<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeframe Pass Network in Tableau Pt2 - CJ Mayes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *,::after,::before{
            box-sizing: border-box;
        }
        body,html{
            font-family: "Plus Jakarta Sans", sans-serif;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
            font-weight: 400;
            line-height: 1.5;
            font-size: 15px;
            color: #212529;
            word-wrap: break-word;
        }
        html{
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        header {
            border-bottom: 1px solid #e9ecef;
            padding: 30px 0;
            margin-bottom: 40px;
        }
        header h1 {
            font-size: 32px;
            font-weight: 600;
            margin: 0;
            color: #212529;
        }
        header h1 a {
            color: #212529;
            text-decoration: none;
        }
        header h1 a:hover {
            opacity: 0.8;
        }
        header p {
            margin: 8px 0 0 0;
            font-size: 15px;
            color: #6c757d;
            font-weight: 400;
        }
        nav {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        nav a {
            color: #212529;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            margin-right: 30px;
            transition: opacity 0.2s;
        }
        nav a:hover {
            opacity: 0.7;
        }
        main {
            margin-bottom: 60px;
        }
        article {
            max-width: 800px;
            margin: 0 auto;
        }
        article h1 {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 24px;
            color: #212529;
            line-height: 1.2;
        }
        article h2 {
            font-size: 28px;
            font-weight: 600;
            margin-top: 40px;
            margin-bottom: 16px;
            color: #212529;
            line-height: 1.3;
        }
        article h3 {
            font-size: 22px;
            font-weight: 600;
            margin-top: 32px;
            margin-bottom: 12px;
            color: #212529;
        }
        article p {
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: #212529;
        }
        article img, article figure {
            max-width: 100%;
            height: auto;
            margin: 32px 0;
            border-radius: 4px;
        }
        article figure {
            margin: 32px 0;
        }
        article figure img {
            display: block;
            margin: 0 auto;
        }
        article a {
            color: #212529;
            text-decoration: underline;
            text-decoration-color: #6c757d;
            text-underline-offset: 3px;
        }
        article a:hover {
            text-decoration-color: #212529;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 14px;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-list li {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid #e9ecef;
        }
        .post-list li:last-child {
            border-bottom: none;
        }
        .post-list h2 {
            margin-bottom: 8px;
            font-size: 22px;
        }
        .post-list a {
            color: #212529;
            text-decoration: none;
        }
        .post-list a:hover {
            text-decoration: underline;
            text-decoration-color: #212529;
        }
        .post-list p {
            color: #6c757d;
            font-size: 14px;
            margin-top: 8px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            article h1 {
                font-size: 28px;
            }
            article h2 {
                font-size: 24px;
            }
            header h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="blog.html">CJ Mayes</a></h1>
                <p>London, United Kingdom</p>
        </div>
    </header>
    
    <div class="container">
        <nav>
            <a href="blog.html">Blog</a>
        </nav>
        
        <main>
            <article>
                <h1>Timeframe Pass Network in Tableau Pt2</h1>Hi all,

Hope everyone is doing well. Todays blog is a bit of a mix between technical and thought piece. I've previously written about how to create pass networks using alteryx and tableau <strong><a href="../2023/02/20/pass-network-in-tableau-using-statsbomb-alteryx-2/">here.</a></strong>

<img src="../uploads/2023/06/EurosFinal-Alteryx-Blog.png" class="alignnone size-full wp-image-6487" alt="" width="1400" height="800">

Please read that one before moving on as i'm going to skip over the bits of data collection and talk mainly about the data processing in the Alteryx workflow.

As a brief refresher, all of todays files can be found in the GitRepo (under the header) We will then transform the data using Alteryx, and finally we will export or data and showcase how it can be used to create a pass network in Tableau. We won't refresh how to do the Tableau build as the other blog covers it off, and I followed it to make my charts for this week!

For those that want to relive the moment of England beating Germany in the Euros Final in 2022, you can <strong><a href="https://www.youtube.com/watch?v=wax6vu5B0pQ">watch it here.</a></strong>

Okay? lets begin!

Once you've run the code you will end up with the following outputs for the Womens Euro Final from 2022:
<ul>
 	<li>match_events.csv - All match events associated to the chosen match ID (Where we will get all our pass information from)</li>
 	<li>starting.csv - The starting line up for each team</li>
 	<li>fig.png - the background football pitch</li>
</ul>So with little transformation I thought best to do the rest of the prep in Alteryx.

This is where my workflow has changed from previous as we now want to build the same chart multiple times over.

<strong>I wanted to now look at networks during the game given certain time frames. For this example I will look at the first half, second half, and then extra time 1st and second half.</strong>

let's talk through the process of how the Alteryx flow works

<img src="../uploads/2023/06/capture1.png" class="alignnone size-full wp-image-6488" alt="" width="1498" height="666">

The top part of the flow connects to the raw match event data. We end up filtering for all successful passes (where the outcome is blank) and where the type of event is a pass.

I use the select tool just to pick out the columns from the data that are most appropriate and filter this data just to have the England teams information in.

<img src="../uploads/2023/06/capture2.png" class="alignnone size-full wp-image-6489" alt="" width="1129" height="160">

The second input takes our Starting XI and joins it to our main dataset, flagging who was in our original Starting XI. We don't use this metric, but I think it could be useful in general to have.

<img src="../uploads/2023/06/capture3.png" class="alignnone size-full wp-image-6490" alt="" width="1255" height="154">

So now the top part of the flow has for our match, including a flag for if they were in the starting 11, all the pass match events.

<img src="../uploads/2023/06/1st.png" class="alignnone size-full wp-image-6491" alt="" width="661" height="301">

The bottom part of the flow takes our original data but this time looks at when the substitutions happen. Now previously, I ended up just taking all events prior to the first substitution. This isn't really a practical solution for when a sub happens early on in the game so decided to revisit the idea.

We can cross reference our sub data externally<strong><a href="https://www.skysports.com/football/england-women-vs-germany-women/teams/474969">, here.</a></strong>

This time round, we want to look at all the substitutions.

<img src="../uploads/2023/06/capture4.png" class="alignnone size-full wp-image-6493" alt="" width="637" height="269">

<img src="../uploads/2023/06/capture45.png" class="alignnone size-full wp-image-6494" alt="" width="429" height="143">

So the problem that now arises is if we are to build network maps based on each period, we would have points for anyone who has been on the pitch, in this case could be up to 16 players for England in the second half.

My solution is to take out the subbed off player from that time period. Its not a full solution. Because lets face it dependant when during that half you're subbed massively impacts how many times you're like to touch the ball. Perhaps if I was to do this on minute segmentation I would look at number of passes made and visualise the player of the subbed dependent on impact, but for now the solution works.

Here's how that looks in alteryx:

<img src="../uploads/2023/06/capture5.png" class="alignnone size-full wp-image-6497" alt="" width="772" height="757">

This build in python IDE reads the data we've transformed.

<img src="../uploads/2023/06/capture6.png" class="alignnone size-full wp-image-6498" alt="" width="763" height="694">

It then does a for loop to say that if from our subbed off players are equal to the time period and and player name then remove them from the dataset. Do this for all the players and times listed in our subs dataset. I'm sure this probably could have been an iterative macro somehow.

<img src="../uploads/2023/06/capture7.png" class="alignnone size-full wp-image-6499" alt="" width="738" height="655">

We have to repeat the same process again, but rather than looking at player also look at pass recipient, because of course we want to remove this player from both making the passes or receiving the ball too.

It then exports this information back into our flow ready to use.

<img src="../uploads/2023/06/capture8-1.png" class="alignnone size-full wp-image-6502" alt="" width="805" height="528">

The last part of the flow is all about creating average locations for each of the players. So we take their position when on the ball and take an average of those marks.

Finally we glue back in data to do with the recipient in order to know which player is passing to who! We also count how many times each player combination happened.

All goes well, you will end up with an output such as seen in the <strong>match_data_output.csv</strong>

From here we are ready to build in Tableau.

For Tableau you can refer back to the previous <strong><a href="../2023/02/20/pass-network-in-tableau-using-statsbomb-alteryx-2/">blog here.</a></strong>

As always all the resources are found in the GitRepo as well as the dashboard is downloadable from my Tableau Public profile.

<img src="../uploads/2023/06/EurosFinal-Alteryx-Blog-1.png" class="alignnone size-full wp-image-6504" alt="" width="1400" height="800">

Why not go further?
<ul>
 	<li>Can you create a small multiple of all games leading up to the final?</li>
 	<li>Can you add in jersey numbers into the code and alteryx flow?</li>
 	<li>Can you change the design of the pitch to be different colours?</li>
 	<li>Can you create the same workflow but split by 15 minute time segments?</li>
</ul>I still think there is a lot of potential for building into the flow more ideas around frequency of passes, greatest interactions around players, dynamic shaping as well as more accurate represent what players are on the pitch during allotted time frames. Lots of food for thought, but perhaps you can take the workflow and make it better.

Catch you in the next one.

<strong>LOGGING OFF,</strong>

<strong>CJ</strong>
            </article>
        </main>
    </div>
    
    <footer>
        <p>&copy; 2025 CJ Mayes. All rights reserved.</p>
    </footer>
</body>
</html>