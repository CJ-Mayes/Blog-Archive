<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotting Penalties In Tableau - CJ Mayes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *,::after,::before{
            box-sizing: border-box;
        }
        body,html{
            font-family: "Plus Jakarta Sans", sans-serif;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
            font-weight: 400;
            line-height: 1.5;
            font-size: 15px;
            color: #212529;
            word-wrap: break-word;
        }
        html{
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        header {
            border-bottom: 1px solid #e9ecef;
            padding: 30px 0;
            margin-bottom: 40px;
        }
        header h1 {
            font-size: 32px;
            font-weight: 600;
            margin: 0;
            color: #212529;
        }
        header h1 a {
            color: #212529;
            text-decoration: none;
        }
        header h1 a:hover {
            opacity: 0.8;
        }
        header p {
            margin: 8px 0 0 0;
            font-size: 15px;
            color: #6c757d;
            font-weight: 400;
        }
        nav {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        nav a {
            color: #212529;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            margin-right: 30px;
            transition: opacity 0.2s;
        }
        nav a:hover {
            opacity: 0.7;
        }
        main {
            margin-bottom: 60px;
        }
        article {
            max-width: 800px;
            margin: 0 auto;
        }
        article h1 {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 24px;
            color: #212529;
            line-height: 1.2;
        }
        article h2 {
            font-size: 28px;
            font-weight: 600;
            margin-top: 40px;
            margin-bottom: 16px;
            color: #212529;
            line-height: 1.3;
        }
        article h3 {
            font-size: 22px;
            font-weight: 600;
            margin-top: 32px;
            margin-bottom: 12px;
            color: #212529;
        }
        article p {
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: #212529;
        }
        article img, article figure {
            max-width: 100%;
            height: auto;
            margin: 32px 0;
            border-radius: 4px;
        }
        article figure {
            margin: 32px 0;
        }
        article figure img {
            display: block;
            margin: 0 auto;
        }
        article a {
            color: #212529;
            text-decoration: underline;
            text-decoration-color: #6c757d;
            text-underline-offset: 3px;
        }
        article a:hover {
            text-decoration-color: #212529;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 14px;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-list li {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid #e9ecef;
        }
        .post-list li:last-child {
            border-bottom: none;
        }
        .post-list h2 {
            margin-bottom: 8px;
            font-size: 22px;
        }
        .post-list a {
            color: #212529;
            text-decoration: none;
        }
        .post-list a:hover {
            text-decoration: underline;
            text-decoration-color: #212529;
        }
        .post-list p {
            color: #6c757d;
            font-size: 14px;
            margin-top: 8px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            article h1 {
                font-size: 28px;
            }
            article h2 {
                font-size: 24px;
            }
            header h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="blog.html">CJ Mayes</a></h1>
                <p>London, United Kingdom</p>
        </div>
    </header>
    
    <div class="container">
        <nav>
            <a href="blog.html">Blog</a>
        </nav>
        
        <main>
            <article>
                <h1>Plotting Penalties In Tableau</h1>Hi all,

You may have seen recently <a href="https://github.com/sara1621/Football-Data-Analysis/blob/main/draw_goal.ipynb"><span style="text-decoration: underline;"><strong>Sara's post</strong></span></a> about an easy method for creating penalty shot charts using matplot lib.

<img class="alignnone size-full wp-image-9398" src="../uploads/2025/05/matplotlib.png" alt="" width="1641" height="877" />

&amp; of course this code is adaptable as you like, but offers a great basis for charting.

You can find a copy of the tutorial and test dataset I created in <a href="https://github.com/CJ-Mayes/Website-Tutorials/blob/main/2025%20Blogs/2025-05-25%20Plotting%20Penalties%20In%20Tableau/my_data.csv"><strong>my repo.</strong></a>
<ol>
 	<li>It imports necessary libraries (goal_plot for drawing a goal, pandas for data handling, matplotlib for visualization).</li>
 	<li>It loads shot data from a CSV file ('my_data.csv') and removes any rows with missing location data.</li>
 	<li>It sets up a dark-themed plot (black/dark gray background).</li>
 	<li>It draws a goal outline on the plot using the imported <code>draw_goal</code> function.</li>
 	<li>For each shot in the dataset, it:
<ul>
 	<li>Colors goals blue and misses red</li>
 	<li>Uses circle markers (○) for goals and X markers for misses</li>
 	<li>Plots each shot at its end location coordinates (x,y)</li>
</ul>
</li>
 	<li>Finally, it saves the visualization as 'goal_draw.png' and displays it.</li>
</ol>
This visualization allows you to see where shots ended up in relation to the goal, with a clear distinction between successful goals and missed shots. The code is using the shot's end_location_x and end_location_y coordinates for positioning the markers on the plot.

I tried it myself and dumped in a bunch of random points that you can find in the repo, and created the following.

<img class="alignnone size-full wp-image-9400" src="../uploads/2025/05/matplotlib2.png" alt="" width="800" height="500" />

Now if we want to recreate this in Tableau we will want to join to the raw data.

Put End Location X on Columns

Put End Location Y on Rows

Outcome Name on colour and Shape.

We will want to configure the background map.

Go to Map -&gt; Background images.

<img class="alignnone size-full wp-image-9402" src="../uploads/2025/05/BackgroundImage.png" alt="" width="1548" height="906" />

Configure the x and y co ordinates to scale to the same values that you have within your dataset.

Nice and simple.

<img class="alignnone size-full wp-image-9404" src="../uploads/2025/05/Goal-Mapping.png" alt="" width="1000" height="800" />

It can get a little bit tricky with the conversions. Firstly, the x,y,z end location scale of your original data, you will want it to fit that of the package.

I saved the goal as an image without any points for when loading it into Tableau as the background image, you can do this just by running the code but excluding the scatter point lines.

Then in background images of Tableau its a little trial and error, until you see that the image you have from plotting it in python matches that on your Tableau screen.

Going further:

Try use your own data from a recent match.

Create a different chart for each team in a league.

<strong>LOGGING OFF,</strong>

CJ

&nbsp;
            </article>
        </main>
    </div>
    
    <footer>
        <p>&copy; 2025 CJ Mayes. All rights reserved.</p>
    </footer>
</body>
</html>