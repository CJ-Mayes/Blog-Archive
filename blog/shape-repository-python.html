<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer Shape Repository (Python) - CJ Mayes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *,::after,::before{
            box-sizing: border-box;
        }
        body,html{
            font-family: "Plus Jakarta Sans", sans-serif;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
            font-weight: 400;
            line-height: 1.5;
            font-size: 15px;
            color: #212529;
            word-wrap: break-word;
        }
        html{
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        header {
            border-bottom: 1px solid #e9ecef;
            padding: 30px 0;
            margin-bottom: 40px;
        }
        header h1 {
            font-size: 32px;
            font-weight: 600;
            margin: 0;
            color: #212529;
        }
        header h1 a {
            color: #212529;
            text-decoration: none;
        }
        header h1 a:hover {
            opacity: 0.8;
        }
        header p {
            margin: 8px 0 0 0;
            font-size: 15px;
            color: #6c757d;
            font-weight: 400;
        }
        nav {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        nav a {
            color: #212529;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            margin-right: 30px;
            transition: opacity 0.2s;
        }
        nav a:hover {
            opacity: 0.7;
        }
        main {
            margin-bottom: 60px;
        }
        article {
            max-width: 800px;
            margin: 0 auto;
        }
        article h1 {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 24px;
            color: #212529;
            line-height: 1.2;
        }
        article h2 {
            font-size: 28px;
            font-weight: 600;
            margin-top: 40px;
            margin-bottom: 16px;
            color: #212529;
            line-height: 1.3;
        }
        article h3 {
            font-size: 22px;
            font-weight: 600;
            margin-top: 32px;
            margin-bottom: 12px;
            color: #212529;
        }
        article p {
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: #212529;
        }
        article img, article figure {
            max-width: 100%;
            height: auto;
            margin: 32px 0;
            border-radius: 4px;
        }
        article figure {
            margin: 32px 0;
        }
        article figure img {
            display: block;
            margin: 0 auto;
        }
        article a {
            color: #212529;
            text-decoration: underline;
            text-decoration-color: #6c757d;
            text-underline-offset: 3px;
        }
        article a:hover {
            text-decoration-color: #212529;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 14px;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-list li {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid #e9ecef;
        }
        .post-list li:last-child {
            border-bottom: none;
        }
        .post-list h2 {
            margin-bottom: 8px;
            font-size: 22px;
        }
        .post-list a {
            color: #212529;
            text-decoration: none;
        }
        .post-list a:hover {
            text-decoration: underline;
            text-decoration-color: #212529;
        }
        .post-list p {
            color: #6c757d;
            font-size: 14px;
            margin-top: 8px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            article h1 {
                font-size: 28px;
            }
            article h2 {
                font-size: 24px;
            }
            header h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="blog.html">CJ Mayes</a></h1>
                <p>London, United Kingdom</p>
        </div>
    </header>
    
    <div class="container">
        <nav>
            <a href="blog.html">Blog</a>
        </nav>
        
        <main>
            <article>
                <h1>Soccer Shape Repository (Python)</h1><p>Hi all,</p>

<p>Earlier last week we heard from <a href="../2022/08/16/alteryx-building-a-premier-league-dashboard-part-1-alberto-oraa/" target="_blank" rel="noreferrer noopener">Alberto</a> and <a href="../2022/08/18/building-a-premier-league-dashboard-part-2/" target="_blank" rel="noreferrer noopener">Joris</a> on how to build a premier league dashboard. Taking a deeper look at the front end dashboard Joris raised a good point around Tableau Publics ability to render url's through a parameter.</p>

<figure class="wp-image"><img class="wp-image-4269" src="../uploads/2022/07/image-18.png" alt="" /></figure>

<p>On Tableau Public you end up with the player icons showing like this.</p>

<figure class="wp-image"><img class="wp-image-4268" src="../uploads/2022/07/image-17.png" alt="" /></figure>

<p>But in desktop they render perfectly fine!</p>

<figure class="wp-image"><img class="wp-image-4270" src="../uploads/2022/07/image-19.png" alt="" /></figure>

<p>Now Joris rightly mentioned that Tableau has announced image role at the Tableau conference. You can read more about what that looks like <strong><a href="https://www.tableau.com/about/blog/2022/5/power-your-analytics-advantage-tableau-product-innovations" target="_blank" rel="noreferrer noopener">here.</a></strong> Thanks to this new feature you can now have images render dynamically by having a field with the URL of the image in your data.</p>

<figure class="wp-image"><img class="wp-image-4274" src="../uploads/2022/07/image-20.png" alt="" /></figure>

<p>Whilst we eagerly await the release of this, it's worth considering how these images may render in quality and size. What format they are stored and also the shape. Presumably this example has some well formatted circles as oppose to being dynamic crops.</p>

<p><strong>So for the time being, is there a quick work around?</strong></p>

<p>Well yes, we can still use the shapes repository file.</p>

<p>What a lot of people aren't aware is that Tableau shapes repository works actually works <strong>alphanumerically.</strong></p>

<p>This means that if we make sure our ID's and our shape files are labelled the same thing. To clarify, Tableau doesn't know that Mohamed Salah's image as 306.png is ID 306, it only knows the sequence of number of ID's on the sheet pane, and the sequence of the storing of the files within the shape repository.</p>

<p>Things to be cautious of:</p>

<ul>
<li>Not having the same amount of players as shapes in your repository. - This will mean they misalign.</li>
<li>Certain instances your alphanumerical ordering may break.</li>
</ul>

<p>Let's look at an example of how the alignment works.</p>

<p>Here is a snippet of the top 5 strikers dataset from the season.</p>

<figure class="wp-image"><img class="wp-image-4284" src="../uploads/2022/07/image-21-edited.png" alt="" /></figure>

<p>Each player has an ID in the dataset, within the photo field it also has there ID, appended to the media.api site.</p>

<p>Here are the Top 5 goal scorers in a shapes repository.</p>

<figure class="wp-image"><img class="wp-image-4287" src="../uploads/2022/07/image-24.png" alt="" /></figure>

<p>Lets see that in action.</p>

<figure class="wp-image"><img class="wp-image-4288" src="../uploads/2022/07/image-25.png" alt="" /></figure>

<p>So because I've filtered the dataset to just the 5 ID's shown above, and then applied shape, it has alphanumerically assigned them in the correct order to match. This is to be used at caution when scaling to larger datasets.</p>

<p><strong>So how can I scale this?</strong></p>

<p>Well, presumably you won't want to go ahead and download every picture manually. So I've created this python script that will do it for you. You can find the code at the top of the blog in the repository.</p>

<figure class="wp-image"><img class="wp-image-4290" src="../uploads/2022/07/carbon.png" alt="" /></figure>

<p>I've put in some fake subset data for now, but I recommend probably parsing through an excel file and then converting the<strong> ID</strong> to a list.</p>

<p>Next it looks to build a folder called images in your directory, and it loops through each of the id's and creates the media.api website using the ID for each player. These images then get saved down into the images folder.</p>

<p>The script can be then run again, and it will skip over players you already have saved.</p>

<p>This folder of images can then be placed within your shapes repository, fit for use!</p>

<p>Hope this was somewhat useful. Like mentioned previous, I'm nervously excited for what the new image role functionality will have to offer in Tableau!</p>

<p><strong>LOGGING OFF,</strong></p>

<p><strong>CJ</strong></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
            </article>
        </main>
    </div>
    
    <footer>
        <p>&copy; 2025 CJ Mayes. All rights reserved.</p>
    </footer>
</body>
</html>